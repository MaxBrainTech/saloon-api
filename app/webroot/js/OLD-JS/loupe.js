if(typeof GL==="undefined"){GL={}}GL.Detector={getAgent:function(){return navigator.userAgent.toLowerCase()},isMac:function(e){var t=e||this.getAgent();return!!t.match(/mac/i)},isSnowLeopard:function(e){if(typeof console!="undefined"){console.warn('Instead of GL.Detector.isSnowLeopard, please use GL.Detector.macOSAtLeastVersion("10.6").')}var t=e||this.getAgent();return!!t.match(/mac os x 10_6/i)},macOSVersion:function(e){var t=e||this.getAgent();if(!this.isMac(t)){return null}var n=t.match(/(mac os x )([\d\._]*)/i);if(n==null){return n}if(!!n[2].match(/\./)){n=n[2].split(".")}else{n=n[2].split("_")}for(var r=0;r<n.length;r++){n[r]=parseInt(n[r])}return n},macOSAtLeastVersion:function(e,t){if(typeof e=="undefined"){return false}var n=this.macOSVersion(t);if(n==null){return false}if(typeof e=="string"){e=e.replace(".","_").split("_")}for(var r=0;r<e.length;r++){var i=parseInt(n[r]);if(isNaN(i)){i=0}if(parseInt(e[r])>i){return false}}return true},isWin:function(e){var t=e||this.getAgent();return!!t.match(/win/i)},winVersion:function(e){var t=e||this.getAgent();if(this.isWin(t)){var n=t.match(/nt\s*([\d\.]*)/);if(n&&n[1]){return parseFloat(n[1])}return true}return false},winAtLeastVersion:function(e,t){if(typeof e=="undefined"){return false}e=parseFloat(e);if(e===NaN){return false}var n=this.winVersion(t);if(n===null||n===false||n===true){return false}return e<=n},isWin2k:function(e){var t=e||this.getAgent();return this.isWin(t)&&t.match(/nt\s*5/i)},isWinVista:function(e){var t=e||this.getAgent();return this.isWin(t)&&t.match(/nt\s*6\.0([0-9]{0,2})?/i)},isWebKit:function(e){if(this._isWebKit===undefined){var t=e||this.getAgent();this._isWebKit=!!t.match(/AppleWebKit/i);this.isWebKit=function(){return this._isWebKit}}return this._isWebKit},isSafari2:function(e){if(typeof console!="undefined"){console.warn("Instead of GL.Detector.isSafari2(), please use GL.Detector.isWebKit().")}var t=e||this.getAgent();if(this._isSafari2===undefined){if(!this.isWebKit(t)){this._isSafari2=false}else{var n=parseInt(parseFloat(t.substring(t.lastIndexOf("safari/")+7)),10);this._isSafari2=n>=419}this.isSafari2=function(){return this._isSafari2}}return this._isSafari2},isChrome:function(e){if(this._isChrome===undefined){var t=e||this.getAgent();this._isChrome=!!t.match(/Chrome/i);this.isChrome=function(){return this._isChrome}}return this._isChrome},isiPhone:function(e){if(typeof console!="undefined"){console.warn("Instead of GL.Detector.isiPhone(), please use GL.Detector.isMobile().")}var t=e||this.getAgent();return this.isMobile(t)},iPhoneOSVersion:function(e){if(typeof console!="undefined"){console.warn("Instead of GL.Detector.iPhoneOSVersion(), please use GL.Detector.iOSVersion().")}var t=e||this.getAgent(),n=this.isMobile(t),r,i,s;if(n){var r=t.match(/.*CPU ([\w|\s]+) like/i);if(r&&r[1]){i=r[1].split(" ");s=i[2].split("_");return s}else{return[1]}}return null},isiPad:function(e){var t=e||this.getAgent();return!!(this.isWebKit(t)&&t.match(/ipad/i))},isMobile:function(e){var t=e||this.getAgent();return this.isWebKit(t)&&t.match(/Mobile/i)&&!this.isiPad(t)},_iOSVersion:null,iOSVersion:function(){if(this._iOSVersion===null){this._iOSVersion=GL.Detector.isMobile()||GL.Detector.isiPad()?parseFloat(navigator.userAgent.match(/os ([\d_]*)/i)[1].replace("_",".")):false}return this._iOSVersion},isOpera:function(e){var t=e||this.getAgent();return!!t.match(/opera/i)},isIE:function(e){var t=e||this.getAgent();return!!t.match(/msie/i)},isIEStrict:function(e){var t=e||this.getAgent();return t.match(/msie/i)&&!this.isOpera(t)},isIE8:function(e){var t,n,r;t=e||this.getAgent();n=t.match(/msie\D*([\.\d]*)/i);r=-1;if(n&&n[1]){r=n[1]}return+r>=8},isFirefox:function(e){var t=e||this.getAgent();return!!t.match(/firefox/i)},isiTunesOK:function(e){var t=e||this.getAgent();if(this.isMac(t)){return true}if(this.winAtLeastVersion(5.1,t)){return true}return false},_isQTInstalled:undefined,isQTInstalled:function(){if(this._isQTInstalled===undefined){var e=false;if(navigator.plugins&&navigator.plugins.length){for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];if(n.name.indexOf("QuickTime")>-1){e=true}}}else{if(typeof execScript!="undefined"){qtObj=false;execScript('on error resume next: qtObj = IsObject(CreateObject("QuickTimeCheckObject.QuickTimeCheck.1"))',"VBScript");e=qtObj}}this._isQTInstalled=e}return this._isQTInstalled},getQTVersion:function(){var e="0";if(navigator.plugins&&navigator.plugins.length){for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];var r=n.name.match(/quicktime\D*([\.\d]*)/i);if(r&&r[1]){e=r[1]}}}else{if(typeof execScript!="undefined"){ieQTVersion=null;execScript('on error resume next: ieQTVersion = CreateObject("QuickTimeCheckObject.QuickTimeCheck.1").QuickTimeVersion',"VBScript");if(ieQTVersion){e=ieQTVersion.toString(16);e=[e.charAt(0),e.charAt(1),e.charAt(2)].join(".")}}}return e},isQTCompatible:function(e,t){function n(e,t){var r=parseInt(e[0],10);if(isNaN(r)){r=0}var i=parseInt(t[0],10);if(isNaN(i)){i=0}if(r===i){if(e.length>1){return n(e.slice(1),t.slice(1))}else{return true}}else{if(r<i){return true}else{return false}}}var r=e.split(/\./);var i=t?t.split(/\./):this.getQTVersion().split(/\./);return n(r,i)},isValidQTAvailable:function(e){return this.isQTInstalled()&&this.isQTCompatible(e)},isSBVDPAvailable:function(e){return false},_svgAsBackground:null,svgAsBackground:function(e){if(this._svgAsBackground===null){var t=function(){GL.Detector._svgAsBackground=true;if(typeof e=="function"){e()}};var n=document.createElement("img");n.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D");if(n.complete){n.style.visibility="hidden";n.style.position="absolute";document.body.appendChild(n);window.setTimeout(function(){GL.Detector._svgAsBackground=false;if(n.width>=100){document.body.removeChild(n);t()}else{document.body.removeChild(n)}},1)}else{this._svgAsBackground=false;n.onload=t}}else{if(this._svgAsBackground&&typeof e=="function"){e()}}return this._svgAsBackground},_style:null,_prefixes:null,_preFixes:null,_css:null,isCSSAvailable:function(e){if(!this._style){this._style=document.createElement("browserdetect").style}if(!this._prefixes){this._prefixes="-webkit- -moz- -o- -ms- -khtml- ".split(" ")}if(!this._preFixes){this._preFixes="Webkit Moz O ms Khtml ".split(" ")}if(!this._css){this._css={}}e=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase();switch(e){case"gradient":if(this._css.gradient!==undefined){return this._css.gradient}var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";this._style.cssText=(e+this._prefixes.join(t+e)+this._prefixes.join(n+e)).slice(0,-e.length);this._css.gradient=this._style.backgroundImage.indexOf("gradient")!==-1;return this._css.gradient;case"inset-box-shadow":if(this._css["inset-box-shadow"]!==undefined){return this._css["inset-box-shadow"]}var e="box-shadow:",r="#fff 0 1px 1px inset;";this._style.cssText=this._prefixes.join(e+r);this._css["inset-box-shadow"]=this._style.cssText.indexOf("inset")!==-1;return this._css["inset-box-shadow"];default:var i=e.split("-"),s=i.length,o,u,a;if(i.length>0){e=i[0];for(u=1;u<s;u++){e+=i[u].substr(0,1).toUpperCase()+i[u].substr(1)}}o=e.substr(0,1).toUpperCase()+e.substr(1);if(this._css[e]!==undefined){return this._css[e]}for(a=this._preFixes.length-1;a>=0;a--){if(this._style[this._preFixes[a]+e]!==undefined||this._style[this._preFixes[a]+o]!==undefined){this._css[e]=true;return true}}return false}return false},_supportsThreeD:false,supportsThreeD:function(){try{this._supportsThreeD=false;if("styleMedia"in window){this._supportsThreeD=window.styleMedia.matchMedium("(-webkit-transform-3d)")}else{if("media"in window){this._supportsThreeD=window.media.matchMedium("(-webkit-transform-3d)")}}if(!this._supportsThreeD){if(!document.getElementById("supportsThreeDStyle")){var e=document.createElement("style");e.id="supportsThreeDStyle";e.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }";document.querySelector("head").appendChild(e)}if(!(div=document.querySelector("#supportsThreeD"))){div=document.createElement("div");div.id="supportsThreeD";document.body.appendChild(div)}this._supportsThreeD=div.offsetHeight===3}return this._supportsThreeD}catch(t){return false}},_hasGyro:null,_testingForGyro:false,hasGyro:function(){if(this._hasGyro!==null){return this._hasGyro}if("DeviceOrientationEvent"in window&&window.DeviceOrientationEvent!==null){if(this._testingForGyro===false){this._testingForGyro=true;var e=this;this.boundTestingForGyro=function(t){e.testingForGyro(t)};window.addEventListener("deviceorientation",this.boundTestingForGyro,true);this._testGyroTimeout=window.setTimeout(function(){this._hasGyro=false}.bind(this),250)}return this._hasGyro}else{return this._hasGyro=false}},testingForGyro:function(e){if(this._hasGyro===false){return this._hasGyro}else{if(typeof e.gamma!=="undefined"&&typeof e.beta!=="undefined"){this._hasGyro=true}else{this._hasGyro=false}window.clearTimeout(this._testGyroTimeout);window.removeEventListener("deviceorientation",this.boundTestingForGyro,true);delete this.boundTestingForGyro}},_isiPadWithGyro:null,isiPadWithGyro:function(){if(this._isiPadWithGyro===false||!this.isiPad()){return false}else{return this._isiPadWithGyro=this.hasGyro()}},_hasLocalStorage:null,hasLocalStorage:function(){if(this._hasLocalStorage!==null){return this._hasLocalStorage}try{if(typeof localStorage!=="undefined"&&"setItem"in localStorage){localStorage.setItem("gl_browser_detect","test");this._hasLocalStorage=true;localStorage.removeItem("gl_browser_detect","test")}else{this._hasLocalStorage=false}}catch(e){this._hasLocalStorage=false}return this._hasLocalStorage},_hasSessionStorage:null,hasSessionStorage:function(){if(this._hasSessionStorage!==null){return this._hasSessionStorage}try{if(typeof sessionStorage!=="undefined"&&"setItem"in sessionStorage){sessionStorage.setItem("gl_browser_detect","test");this._hasSessionStorage=true;sessionStorage.removeItem("gl_browser_detect","test")}else{this._hasSessionStorage=false}}catch(e){this._hasSessionStorage=false}return this._hasSessionStorage},_hasCookies:null,hasCookies:function(){if(this._hasCookies!==null){return this._hasCookies}this._hasCookies="cookie"in document&&!!navigator.cookieEnabled?true:false;return this._hasCookies}};Object.extend(Event,{_domReady:function(){if(arguments.callee.done){return}arguments.callee.done=true;if(this._timer){clearInterval(this._timer)}GL.isDomReady=true;if(this._readyCallbacks){this._readyCallbacks.each(function(e){e()})}this._readyCallbacks=null},onDOMReady:function(e){if(GL.isDomReady){e()}else{if(!this._readyCallbacks){var t=this._domReady.bind(this);if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false)}if(document.all){document.onreadystatechange=function(){if(this.readyState=="complete"){t()}}}if(/WebKit/i.test(navigator.userAgent)){this._timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){t()}},10)}Event.observe(window,"load",t);Event._readyCallbacks=[]}Event._readyCallbacks.push(e)}}});Element.addMethods({getOuterDimensions:function(e){e=$(e);var t=e.cloneNode(true);var n=e.parentNode?e.parentNode:document.body;n.appendChild(t);Element.setStyle(t,{position:"absolute",visibility:"hidden"});var r=Element.getDimensions(t);var i=r.height;var s=Element.getStyle;i+=s(t,"margin-top")?parseInt(s(t,"margin-top"),10):0;i+=s(t,"margin-bottom")?parseInt(s(t,"margin-bottom"),10):0;var o=r.width;o+=s(t,"margin-left")?parseInt(s(t,"margin-left"),10):0;o+=s(t,"margin-right")?parseInt(s(t,"margin-right"),10):0;Element.remove(t);return{width:o,height:i}}});Array.prototype.item=function(e){return this[e]};GL.Storage={options:{allowCookies:false,useIEFallback:true,daysBeforeExpiring:365,saveTypeMetadata:false},setOption:function(e,t){return this.options[e]=t},storageType:function(e){e=parseFloat(e);if(e===0&&GL.Detector.hasSessionStorage()){return this.item.types.s}else{if(GL.Detector.hasLocalStorage()){return this.item.types.l}else{if(!!this.options.useIEFallback&&this.IE.canAddBehavior()){return this.item.types.u}else{if(!!this.options.allowCookies&&AC.Detector.hasCookies()){return this.item.types.c}}}}return null},setItem:function(e,t,n,r){if(e==""){return false}n=parseFloat(n);if(isNaN(n)){n=null}if(typeof n=="undefined"||n===null){n=this.options.daysBeforeExpiring}if(typeof r!=="object"){r={}}switch(this.storageType(n)){case this.item.types.l:if(n===0){n=1}try{r.days=n;if(this.options.saveTypeMetadata){r.type="l"}localStorage.setItem(e,this.item.create(t,r));return t}catch(i){try{console.warn(i)}catch(s){}return false}break;case this.item.types.s:try{r.days=0;if(this.options.saveTypeMetadata){r.type="s"}sessionStorage.setItem(e,this.item.create(t,r));return t}catch(i){try{console.warn(i)}catch(s){}return false}break;case this.item.types.u:return this.IE.setItem(e,t,n,r);break;case this.item.types.c:return this.cookie.setItem(e,t,n);break}},getItem:function(e){if(this.hasExpired(e)){this.removeItem(e);return null}var t=this.getItemObject(e);if(t===null||typeof t==="undefined"){return null}else{if(typeof t==="object"&&"value"in t){return t.value}else{return t}}},getItemObject:function(e){var t,n;if(GL.Detector.hasLocalStorage()){n=localStorage.getItem(e);t=this.item.read(n);if(t!==null&&typeof t!="undefined"){return t}}if(GL.Detector.hasSessionStorage()){n=sessionStorage.getItem(e);t=this.item.read(n);if(t!==null&&typeof t!="undefined"){return t}}if(!!this.options.useIEFallback&&this.IE.canAddBehavior()){t=this.IE.getItem(e);if(t!==null&&typeof t!="undefined"){return t}}if(!!this.options.allowCookies&&GL.Detector.hasCookies()){t=this.cookie.getItem(e);if(t!==null&&typeof t!="undefined"){return t}}return null},removeItem:function(e){if(GL.Detector.hasLocalStorage()){localStorage.removeItem(e)}if(GL.Detector.hasSessionStorage()){sessionStorage.removeItem(e)}if(!!this.options.useIEFallback&&this.IE.canAddBehavior()){this.IE.removeItem(e)}if(!!this.options.allowCookies&&GL.Detector.hasCookies()){this.cookie.removeItem(e)}return e},createExpirationDate:function(e,t){if(typeof t=="undefined"||!("getHours"in t)){t=new Date}t.setTime(t.getTime()+e*24*60*60*1e3);return t.getTime()},getExpirationDate:function(e){var t=this.getItemObject(e);if(typeof t==="string"||typeof t==="number"){return null}if(t!=null&&typeof t!=="undefined"&&"expires"in t){return new Date(t.expires)}else{return null}},hasExpired:function(e){if(typeof e=="undefined"||e.length===0){return false}var t=(new Date).getTime();if(GL.Detector.hasLocalStorage()){var n=this.getExpirationDate(e);if(n!==null&&n.getTime()<t){return true}}return false},removeExpired:function(){if(GL.Detector.hasLocalStorage()){for(i=0;i<localStorage.length;i++){var e=localStorage.key(i);if(this.hasExpired(e)){this.removeItem(e)}}return true}return false},item:{roundDatesTo:1e3*60*60*24,dateKey:12938688e5,codes:{v:"value",e:"expires",t:"type",r:"roundsDateTo"},types:{l:"localStorage",s:"sessionStorage",u:"#userData",c:"cookies"},create:function(e,t){if(!t){t={}}var n={},r=this.roundDatesTo;n.v=e;if("roundsDateTo"in t&&!isNaN(t.roundsDateTo)){n.r=t.roundsDateTo;r=t.roundsDateTo}if("days"in t&&t.days!==0){n.e=Math.round(GL.Storage.createExpirationDate(t.days)/r)-Math.round(this.dateKey/r)}if("type"in t&&t.type in this.types){n.t=t.type}for(md in t){if(md!=="days"&&md!=="value"&&md!=="expires"&&md!=="type"&&!(md in this.codes)){n[md]=t[md]}}return JSON.stringify(n)},read:function(e){var t=this.parse(e);if(t==null){return null}var n={};var r=this.roundDatesTo;for(k in t){if(k in this.codes){if(this.codes[k]=="expires"){if("r"in t){r=t.r}n[this.codes[k]]=t[k]*r+Math.round(this.dateKey/r)*r}else{if(this.codes[k]=="type"){n[this.codes[k]]=this.types[t[k]]}else{n[this.codes[k]]=t[k]}}}else{n[k]=t[k]}}return n},parse:function(e){try{return JSON.parse(e,function(e,t){var n,r;if(typeof t==="string"){if(!n){n=/^\"*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z\"*$/.exec(t)}if(n){return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6]))}r=/^\[(.*)\]$/.exec(t);if(r){return this.parse(t)}}return t}.bind(this))}catch(t){try{console.warn(err)}catch(t){}return e}}},IE:{setItem:function(e,t,n,r){if(this.canAddBehavior()){var i=this.element();if(typeof r!=="object"){r={}}var s=GL.Storage.item.create(t,r);i.setAttribute(this.attribute,s);n=parseFloat(n);if(n===0){n=1}else{if(isNaN(n)){n=GL.Storage.options.daysBeforeExpiring}}var o=new Date(GL.Storage.createExpirationDate(n));if("toUTCString"in o){i.expires=o.toUTCString()}i.save(e);return t}return false},getItem:function(e){if(this.canAddBehavior()){var t=this.element();t.load(e);var n=t.getAttribute(this.attribute);var r=GL.Storage.item.read(n);delete n;if(r===null||r.toString()===""||r.value===null||r.value.toString()===""||typeof r==="undefined"||typeof r.value==="undefined"){return null}else{if(typeof r==="object"&&"value"in r){return r.value}else{return r}}}return null},removeItem:function(e){if(this.canAddBehavior()){var t=this.element();t.load(e);t.removeAttribute(this.attribute);t.save(e);return true}return false},attribute:"content",canAddBehavior:function(){if("addBehavior"in document.body){var e=this.element();if("addBehavior"in e&&typeof e!=="undefined"&&"load"in e&&"save"in e){return true}}return false},_element:null,element:function(){if(this._element===null){this._element=document.createElement("meta");this._element.setAttribute("name","gl-storage");this._element.style.behavior="url('#default#userData')";document.head.appendChild(this._element)}return this._element}},cookie:{setItem:function(e,t,n){if(GL.Detector.hasCookies()){if(typeof n=="undefined"||n===null){n=this.options.daysBeforeExpiring}var r=n===0?"":"; expires="+(new Date(GL.Storage.createExpirationDate(n))).toUTCString();document.cookie=cookie=e+"="+t+r+"; path=/";return t}return false},getItem:function(e){var t=e+"=";var n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" "){i=i.substring(1,i.length)}if(i.indexOf(t)==0){return i.substring(t.length,i.length)}}return null},removeItem:function(e){this.setItem(e,"",-1)}}};var gl_domready=function(e){var t=false;var n=true;var r=window.document;var i=r.documentElement;var s=r.addEventListener?"addEventListener":"attachEvent";var o=r.addEventListener?"removeEventListener":"detachEvent";var u=r.addEventListener?"":"on";var a=function(n){if(n.type=="readystatechange"&&r.readyState!="complete"){return}(n.type=="load"?window:r)[o](u+n.type,a,false);if(!t&&(t=true)){e.call(window,n.type||n)}};var f=function(){try{i.doScroll("left")}catch(e){setTimeout(f,50);return}a("poll")};if(r.readyState=="complete"){e.call(window,"lazy")}else{if(r.createEventObject&&i.doScroll){try{n=!window.frameElement}catch(l){}if(n){f()}}r[s](u+"DOMContentLoaded",a,false);r[s](u+"readystatechange",a,false);window[s](u+"load",a,false)}};var GL=window.GL||{};GL.Array=GL.Array||{};GL.Array.toArray=function(e){return Array.prototype.slice.call(e)};var GL=window.GL||{};GL.Element=GL.Element||{};GL.Element.addEventListener=function(e,t,n,r){if(e.addEventListener){e.addEventListener(t,n,r)}else{if(e.attachEvent){var i=e.attachEvent("on"+t,n)}else{e["on"+t]=n}}return e};GL.Element.removeEventListener=function(e,t,n,r){if(e.removeEventListener){e.removeEventListener(t,n,r)}else{e.detachEvent("on"+t,n)}return e};GL.Element.getElementById=function(e){if(GL.String.isString(e)){e=document.getElementById(e)}if(GL.Element.isElement(e)){return e}else{return null}};GL.Element.selectAll=function(e,t){if(typeof t==="undefined"){t=document.body}else{if(!GL.Element.isElement(t)){throw"GL.Element.querySelectorAll: Context is not an Element"}}if(typeof e==="string"){return Sizzle(e,t)}else{throw"GL.Element.selectAll: Selector must be a string"}};(function(){var e=function(e,t,n,r){return n===0&&r.substr(1,3)!=="moz"?t:t.toUpperCase()};GL.Element.setStyle=function(t,n){if(typeof n!=="string"&&typeof n!=="object"||Array.isArray(n)){throw new TypeError("styles argument must be either an object or a string")}t=GL.Element.getElementById(t);var r=typeof n==="object"?n:{};var i;var s;var o;var u;var f;if(typeof n==="string"){i=n.split(";");for(o=0;o<i.length;o+=1){s=i[o].indexOf(":");if(s>0){r[i[o].substr(0,s).trim()]=i[o].substr(s+1).trim()}}}for(f in r){if(r.hasOwnProperty(f)){u=f.replace(/-(\w)/g,e);if(u==="opacity"&&AC.Element.__setOpacityIE){AC.Element.__setOpacityIE(t,r[f])}else{if(typeof t.style[u]!=="undefined"){t.style[u]=r[f]}}}}return t};GL.Element.getStyle=function(t,n){var r;var i;n=n.replace(/-(\w)/g,e);if(GL.Element.__getStyleIE){return GL.Element.__getStyleIE(t,n)}t=GL.Element.getElementById(t);n=n==="float"?"cssFloat":n;r=window.getComputedStyle(t,null);i=r?r[n]:null;if(n==="opacity"){return i?parseFloat(i):1}return i==="auto"?null:i}})();GL.Element.cumulativeOffset=function(e){var t=[0,0];if(e.parentNode){do{t[0]+=e.offsetTop||0;t[1]+=e.offsetLeft||0;e=e.offsetParent}while(e)}t.top=t[0];t.left=t[1];return t};GL.Element.isElement=function(e){return!!(e&&e.nodeType===1)};GL.Element.setVendorPrefixStyle=function(e,t,n){if(typeof t!=="string"){throw new TypeError("GL.Element.setVendorPrefixStyle: property must be a string")}if(typeof n!=="string"&&typeof n!=="number"){throw new TypeError("GL.Element.setVendorPrefixStyle: value must be a string or a number")}n+="";e=GL.Element.getElementById(e);var r=["","webkit","Moz","ms","O"];var i;var s;t=t.replace(/-(webkit|moz|ms|o)-/i,"");t=t.replace(/^(webkit|Moz|ms|O)/,"").charAt(0).toLowerCase()+t.slice(1);t=t.replace(/-(\w)/,function(e,t){return t.toUpperCase()});n=n.replace(/-(webkit|moz|ms|o)-/,"-vendor-");r.some(function(r,o,u){i=r===""?t:r+t.charAt(0).toUpperCase()+t.slice(1);s=r===""?n.replace("-vendor-",""):n.replace("-vendor-","-"+r.charAt(0).toLowerCase()+r.slice(1)+"-");if(i in e.style){GL.Element.setStyle(e,i+":"+s);return true}})};var GL=window.GL||{};GL.Event=GL.Event||{};GL.Event.stop=function(e){if(!e){e=window.event}if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}if(e.preventDefault){e.preventDefault()}e.stopped=true;e.returnValue=false};var GL=window.GL||{};GL.Function=GL.Function||{};GL.Function.emptyFunction=function(){};GL.Function.bindAsEventListener=function(e,t){var n=GL.Array.toArray(arguments).slice(2);return function(r){return e.apply(t,[r||window.event].concat(n))}};var GL=window.GL||{};GL.Object=GL.Object||{};if(Object.extend){GL.Object.extend=Object.extend}else{GL.Object.extend=function(t,n){var r;for(r in n){if(n.hasOwnProperty(r)){t[r]=n[r]}}return t}}if(Object.clone){GL.Object.clone=Object.clone}else{GL.Object.clone=function(t){return GL.Object.extend({},t)}}if(Object.getPrototypeOf){GL.Object.getPrototypeOf=Object.getPrototypeOf}else{if(typeof this.__proto__==="object"){GL.Object.getPrototypeOf=function(t){return t.__proto__}}else{GL.Object.getPrototypeOf=function(t){var n=t.constructor;var r;if(Object.prototype.hasOwnProperty.call(t,"constructor")){r=n;if(!delete t.constructor){return null}n=t.constructor;t.constructor=r}return n?n.prototype:null}}}var GL=window.GL||{};GL.String=GL.String||{};GL.String.isString=function(e){return typeof e==="string"};var GL=window.GL||{};GL.Object.extend(GL,{uid:function(){if(!GL._uid){GL._uid=0}return GL._uid++},namespace:function(t){var n;if(!(t&&t.match&&t.match(/\S/))){throw"Attempt to create GL.namespace with no name."}var r=t.split(/\./);var i=window;for(n=0;n<r.length;n++){i[r[n]]=i[r[n]]||{};i=i[r[n]]}},bindEventListeners:function(t,n,r){var i;n=GL.Element.getElementById(n);if(!GL.Element.isElement(n)){throw"Invalid or non-existent element passed to bindEventListeners."}for(i in r){if(r.hasOwnProperty(i)){var s=r[i];if(typeof s==="function"){GL.Element.addEventListener(n,i,GL.Function.bindAsEventListener(s,t))}else{if(typeof s==="string"){GL.Element.addEventListener(n,i,GL.Function.bindAsEventListener(t[s],t))}}}}}});GL.namespace("GL.Synthesize");GL.Synthesize.synthesize=function(e){if(typeof e!=="object"){e=this}var t,n;for(n in e){if(e.hasOwnProperty(n)){if(n.charAt(0)==="_"&&!(n.charAt(1)==="_")){if(typeof e[n]!=="function"){this.__synthesizeGetter(n,e);this.__synthesizeSetter(n,e)}}}}};GL.Synthesize.__synthesizeGetter=function(e,t){var n=e.slice(1,e.length);if(typeof t[n]==="undefined"){t[n]=function(){return t[e]}}};GL.Synthesize.__synthesizeSetter=function(e,t){var n=e.slice(1,e.length);n="set"+n.slice(0,1).toUpperCase()+n.slice(1,n.length);if(typeof t[n]==="undefined"){t[n]=function(n){t[e]=n}}};GL.namespace("GL.Object");GL.Object.synthesize=function(e){if(typeof e==="object"){GL.Object.extend(e,GL.Object.clone(GL.Synthesize));e.synthesize();return e}else{throw"Argument supplied was not a valid object.";return e}};GL.Class=function(){var e=GL.Array.toArray(arguments);var t=typeof e[0]==="function"?e.shift():null;var n=e.shift()||{};var r;var i=function(){var e;var t;e=typeof this.initialize==="function"&&i.__shouldInitialize!==false?this.initialize.apply(this,arguments):false;if(e===GL.Class.Invalidate){t=function(){try{if(this&&this._parentClass&&this._parentClass._sharedInstance===this){this._parentClass._sharedInstance=null}}catch(e){throw e}};window.setTimeout(t.bind(this),200)}};i.__superclass=t;if(t){if(t.__superclass){r=GL.Class(t.__superclass,t.prototype)}else{r=GL.Class(t.prototype)}r.__shouldInitialize=false;i.prototype=new r;GL.Object.extend(i.prototype,n);GL.Class.__wrapSuperMethods(i)}else{i.prototype=n}i.sharedInstance=function(){if(!i._sharedInstance){i._sharedInstance=new i;i._sharedInstance._parentClass=i}return i._sharedInstance};GL.Object.synthesize(i.prototype);i.autocreate=n.__instantiateOnDOMReady||false;delete n.__instantiateOnDOMReady;if(i.autocreate){GL.onDOMReady(function(){if(i.autocreate){i.sharedInstance()}})}return i};GL.Class.__wrapSuperMethods=function(e){var t=e.prototype;var n=e.__superclass.prototype;var r;for(r in t){if(t.hasOwnProperty(r)){if(typeof t[r]==="function"){var i=t[r];var s=GL.Function.getParamNames(i);if(s[0]==="$super"){t[r]=function(e,t){var r=n[e];return function(){var n=GL.Array.toArray(arguments);return t.apply(this,[r.bind(this)].concat(n))}}(r,i)}}}}return this};GL.Class.Invalidate=function(){return false};GL.namespace("GL.Ajax");GL.Ajax.getTransport=function(){var e=false;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=false}}}return e};GL.namespace("GL.Environment");GL.namespace("GL.Environment.Browser");(function(e){var t;var n;var r;var i;var s;t=[{string:window.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:window.navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:window.navigator.userAgent,subString:/mobile\/[^\s]*\ssafari\//i,identity:"Safari Mobile",versionSearch:"Version"},{string:window.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:window.navigator.vendor,subString:"iCab",identity:"iCab"},{string:window.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:window.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:window.navigator.vendor,subString:"Camino",identity:"Camino"},{string:window.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:window.navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:window.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];n=[{string:window.navigator.platform,subString:"Win",identity:"Windows",versionSearch:"Windows NT"},{string:window.navigator.platform,subString:"Mac",identity:"OS X"},{string:window.navigator.userAgent,subString:"iPhone",identity:"iOS",versionSearch:"iPhone OS"},{string:window.navigator.userAgent,subString:"iPad",identity:"iOS",versionSearch:"CPU OS"},{string:window.navigator.userAgent,subString:/android/i,identity:"Android"},{string:window.navigator.platform,subString:"Linux",identity:"Linux"}];i=function(e){var t=e.indexOf(s);if(t===-1){return}return parseFloat(e.substring(t+s.length+1))};__searchOsVersion=function(e){var t=new RegExp(s+" ([\\d_\\.]+)","i");var n=e.match(t);if(n===null){return}return n[1].replace(/_/g,".")};e.version=i(window.navigator.userAgent)||i(window.navigator.appVersion)||undefined;e.osVersion=__searchOsVersion(window.navigator.userAgent)||__searchOsVersion(window.navigator.appVersion)||undefined;e.lowerCaseUserAgent=navigator.userAgent.toLowerCase();return e})(GL.Environment.Browser);GL.Environment.Browser.isWebKit=function(){return!!this.lowerCaseUserAgent.match(/applewebkit/)};GL.ShowOnScroll=GL.Class();GL.ShowOnScroll.prototype={__defaultOptions:{threshold:.5,timeInView:1,scrollEndDelay:.4},initialize:function(t,n){if(typeof n!=="object"){n={}}this._options=GL.Object.extend(GL.Object.clone(this.__defaultOptions),n);if(GL.Environment.Browser.os==="iOS"){this._options.scrollEndDelay=0}this._element=GL.Element.getElementById(t);this._delegate={};this.startObserving();GL.Object.synthesize(this)},startObserving:function(){if(typeof this.__boundOnScroll==="undefined"){this.__boundOnScroll=GL.Function.bindAsEventListener(this.__onScroll,this)}if(typeof this.__boundRefreshMetrics==="undefined"){this.__boundRefreshMetrics=GL.Function.bindAsEventListener(this.refreshMetrics,this)}if(typeof this.__boundWindowLoad==="undefined"){this.__boundWindowLoad=GL.Function.bindAsEventListener(this.__onWindowLoad,this)}if(this._isObserving!==true){GL.Element.addEventListener(window,"scroll",this.__boundOnScroll);GL.Element.addEventListener(window,"load",this.__boundWindowLoad);GL.Element.addEventListener(window,"resize",this.__boundRefreshMetrics);GL.Element.addEventListener(window,"orientationchange",this.__boundRefreshMetrics);this._isObserving=true}},stopObserving:function(){if(this._isObserving===true){GL.Element.removeEventListener(window,"scroll",this.__boundOnScroll);GL.Element.removeEventListener(window,"resize",this.__boundRefreshMetrics);GL.Element.removeEventListener(window,"orientationchange",this.__boundRefreshMetrics);this._isObserving=false}},setDelegate:function(t){if(typeof t==="object"){this._delegate=t}},refreshMetrics:function(){delete this._viewportMetrics;delete this._elementMetrics;this._viewportMetrics=this.viewportMetrics();this._elementMetrics=this.elementMetrics()},isInView:function(t){if(typeof t==="undefined"){t=this.pixelsInView()}return t>0},isEnoughInView:function(t){if(typeof t==="undefined"){t=this.percentInView()}return t===0?false:t>=this._options.threshold},viewportMetrics:function(){if(typeof this._viewportMetrics==="undefined"){this._viewportMetrics={};this._viewportMetrics.height=window.innerHeight||document.documentElement.clientHeight;GL.Object.synthesize(this)}return this._viewportMetrics},elementMetrics:function(){if(typeof this._elementMetrics==="undefined"){this._elementMetrics={};this._elementMetrics.height=this._element.offsetHeight;this._elementMetrics.offsetY=GL.Element.cumulativeOffset(this._element).top;GL.Object.synthesize(this)}return this._elementMetrics},pixelsInView:function(){var t;var n=this.viewportMetrics();var r=this.elementMetrics();var i=this.elementViewportOffsetY();if(i>=0){t=n.height-i;if(t>r.height){t=r.height}}else{t=r.height+i}if(t<0){t=0}return this._pixelsInView=t},percentInView:function(t){var n=this.viewportMetrics();var r=this.elementMetrics();if(typeof t!=="number"){t=this.pixelsInView()}this._percentInView=t===0?0:t/r.height;return this._percentInView},percentTravelled:function(t){var n=this.viewportMetrics();var r=this.elementMetrics();var i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;var s=n.height+r.height;this._percentTravelled=1-(r.height+r.offsetY-i)/s;return this._percentTravelled},elementViewportOffsetY:function(){var t=this.elementMetrics();var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;return t.offsetY-n}};GL.Object.extend(GL.ShowOnScroll.prototype,{__onScroll:function(){var t=this._percentInView;var n=typeof t==="undefined";var r=this.pixelsInView();var i=this.percentInView(r);var s=this.percentTravelled(r);if(this.isInView(r)&&(t===0||n)){if(typeof this._delegate.scrolledIntoView==="function"){this._delegate.scrolledIntoView(this._element)}}if(i===0&&t>0&&!n){if(typeof this._delegate.scrolledOutOfView==="function"){this._delegate.scrolledOutOfView(this._element)}}if(i===1&&(t<1||n)){if(typeof this._delegate.scrolledIntoViewCompletely==="function"){this._delegate.scrolledIntoViewCompletely(this._element,r)}}if(i<1&&t===1&&!n){if(typeof this._delegate.scrolledOutOfViewCompletely==="function"){this._delegate.scrolledOutOfViewCompletely(this._element,r,s)}}if(this.__hasChangedInViewPastThresholdStatus(t,i)){if(this.isEnoughInView(i)){this.__scrolledIntoViewPastThreshold()}else{if(!n){this.__scrolledOutOfViewPastThreshold()}}}if(this.isInView(r)){if(typeof this._delegate.scrolledWhileInView==="function"){this._delegate.scrolledWhileInView(this._element,r,s)}}if(!n){this.__resetOnScrollEndTimer()}},__onWindowLoad:function(){var t=this;window.setTimeout(function(){var e;if(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop){t.__onScroll.call(t)}},500)},__onScrollEnd:function(){delete this.__onScrollEndTimer;this.refreshMetrics();if(typeof this._delegate.scrollEnd==="function"){this._delegate.scrollEnd(this._element,this._pixelsInView,this._percentTravelled)}},__scrolledIntoViewPastThreshold:function(){this.__startTimeInViewTimer();if(typeof this._delegate.scrolledIntoViewPastThreshold==="function"){this._delegate.scrolledIntoViewPastThreshold(this._element,this._pixelsInView,this._percentTravelled,this._options.threshold)}},__scrolledOutOfViewPastThreshold:function(){this.__cancelTimeInViewTimer();if(typeof this._delegate.scrolledOutOfViewPastThreshold==="function"){this._delegate.scrolledOutOfViewPastThreshold(this._element,this._pixelsInView,this._percentTravelled,this._options.threshold)}},__visitorEngaged:function(){if(typeof this._delegate.visitorEngaged==="function"){this._delegate.visitorEngaged(this._element,this._pixelsInView,this._percentTravelled,this._options.threshold)}delete this.__timeInViewTimerId},__hasChangedInViewPastThresholdStatus:function(t,n){if(this.isEnoughInView(n)&&!this.isEnoughInView(t)||!this.isEnoughInView(n)&&this.isEnoughInView(t)||typeof t==="undefined"){return true}else{return false}},__cancelTimeInViewTimer:function(){if(typeof this.__timeInViewTimerId!=="undefined"){window.clearTimeout(this.__timeInViewTimerId);delete this.__timeInViewTimerId}},__startTimeInViewTimer:function(){this.__cancelTimeInViewTimer();if(typeof this.__boundVisitorEngaged==="undefined"){this.__boundVisitorEngaged=this.__visitorEngaged.bind(this)}this.__timeInViewTimerId=window.setTimeout(this.__boundVisitorEngaged,this._options.timeInView*1e3)},__resetOnScrollEndTimer:function(){window.clearTimeout(this.__onScrollEndTimer);if(typeof this.__boundOnScrollEnd==="undefined"){this.__boundOnScrollEnd=this.__onScrollEnd.bind(this)}this.__onScrollEndTimer=window.setTimeout(this.__boundOnScrollEnd,this._options.scrollEndDelay*1e3)}});(function(e,t){t.Detector=t.Detector||{};t.Detector.hasCanvas=function(){var e=document.createElement("canvas"),t=!!(e.getContext&&e.getContext("2d"));return function(){return t}}();t.Detector.isIE6=function(e){var t=e||this.getAgent(),n=t.match(/msie\D*([\.\d]*)/i),r;if(n&&n[1]){r=n[1]}return+r<=6};t.Detector.isIE9=function(e){var t=e||this.getAgent(),n=t.match(/msie\D*([\.\d]*)/i),r;if(n&&n[1]){r=n[1]}return+r>=9};var n=function(){if(t.Detector.isWebKit()){return"-webkit-"}else{if(t.Detector.isFirefox()){return"-moz-"}else{if(t.Detector.isIE()){return""}}}}(),r={threshold:0,timeInView:.5,scrollEndDelay:.5},i={shouldAnimateContentChange:true,shouldAnimateFadeIn:true,addSectionIdAsClassName:true,manageZ:true,silentTriggers:true,useHTML5Tags:true},s=function(){var n,r,i=[],s=0,o,u=new Date,a=function(e){var t=document.createElement("canvas");t.width=e.width;t.height=e.height;t.getContext("2d").drawImage(e,0,0);return t},f=function(e){var t=0;return{callbackOnZero:e,increment:function(){t+=1},decrement:function(){t-=1;if(!t){if(this.callbackOnZero){this.callbackOnZero()}}}}},l=function(t,n){if(!m.getController().getInteractionStatus()&&new Date-u>500){i[t]=a(this);u=new Date;n.decrement();return false}else{e.setTimeout(l.bind(this,t,n),500)}};if(t.Detector.hasCanvas()&&!t.Detector.isIE()){r=document.createElement("canvas")}return{setImageData:function(e,t){var u=function(){var u;if(r&&typeof i[e]!=="object"){u=a(this)}if(r){r=u||i[e];o=r.getContext("2d").getImageData(0,0,r.width,r.height);o.pixelRatio=o.width/r.width;o.calculatedWidth=o.width/o.pixelRatio;o.calculatedHeight=o.height/o.pixelRatio}if(typeof e==="number"&&typeof i[e]!=="object"){s=e;if(r){i[e]=u}else{i[e]=this}}if(typeof t==="function"){t(o||n)}};if(typeof e==="number"&&typeof i[e]==="object"){s=e;u.call(i[e])}else{n=new Image;n.onload=u;n.src=typeof e!=="number"?e:i[e]}return this},setSources:function(e){i=i.concat(e);return this},getImageData:function(e,t,n,u){if(!o){return i[s]}if(e||t||n||u){o=r.getContext("2d").getImageData(e||0,t||0,n||r.width,u||r.height)}return o},doPreload:function(n,s){var o=f(s);e.setTimeout(function(){i.each(function(e,s){var u=new Image;if(typeof e!=="string"){return}o.increment();u.onload=function(){if(r&&!n){l.call(this,s,o)}else{i[s]=this;o.decrement()}this.onload=null};u.src=!t.Detector.isIE()?e.split("#")[0]:e.split("#")[0]+"?"+Math.floor(Math.random()*1e4)})},50);return this}}},o=function(){var e,t;return{attachView:function(t){e=t;return this},updateWith:function(n){if(e&&t!==n){t=n;e.style.backgroundImage="url("+n+")"}return this}}},u=function(e,n){var r,i=s(),o=e.getAttribute("data-src");o=o.replace(/https?:\/\/[^\/]+\//g,"/");i.setSources(o.split(",")).setImageData(0,function(r){var i=e.children[0],s=r.src;if(t.Detector.hasCanvas()&&!t.Detector.isIE()){r=document.createElement("canvas")}else{r=document.createElement("div")}r.className+="canvas";if(t.Detector.isIE9()){r.style.filter=""}e.insertBefore(r,i.nextSibling);if(typeof n==="function"){n(r)}});return i},a=function(n){var r=n,i,s,o=new Image,u=function(){s.style.opacity="0";e.setTimeout(function(){s.parentNode.removeChild(s);s=undefined},t.Detector.isIE()?400:1e3)};o.src="images/zoom/loading.gif";return{getLoadStatus:function(){if(!r){return true}else{return false}},registerLoadEvent:function(){r-=1;if(!r){if(i){u();setTimeout(function(){i()},400)}}return this},showSpinners:function(e){s=document.createElement("div");s.className="spinner ";s.appendChild(o);$$(".loupe-container .loupe-figure")[0].appendChild(s);if(e){i=e}return this}}}(2),f=function(){if(t.Detector.isFirefox()){return function(e,t,n){e.style.MozTransform="translateX("+t+"px) translateY("+n+"px)"}}else{if(t.Detector.isWebKit()){return function(e,t,n){e.style.webkitTransform="translateX("+t+"px) translateY("+n+"px) translateZ(0)"}}else{if(t.Detector.isIE9()){return function(e,t,n){e.style.msTransform="translateX("+t+"px) translateY("+n+"px)"}}else{if(t.Detector.isIE()){return function(e,t,n){e.style.marginTop=n+"px";e.style.marginLeft=t+"px"}}}}}}(),l=function(){if(t.Detector.hasCanvas()&&!t.Detector.isIE()){return function(e,t,n){f(e.container,t+e.initplacementX,n+e.initplacementY);e.canvasImageViewCtx.putImageData(e.canvasView.getImageData(Math.round((t+e.offsetX+e.initplacementX)*e.speed),Math.round((n+e.offsetY+e.initplacementY)*e.speed),e.canvasImageView.width,e.canvasImageView.height),0,0)}}else{return function(e,t,n){t=+t;n=+n;if(e&&e.canvasView){e.updateIEView.updateWith(e.canvasView.getImageData().src);f(e.container,t+e.initplacementX,n+e.initplacementY);e.canvasImageView.style.backgroundPosition=-Math.round((t+e.offsetX+e.initplacementX)*e.speed)+"px "+ -Math.round((n+e.offsetY+e.initplacementY)*e.speed)+"px"}}}}(),c=function(){var n,r,i=window.ontouchstart!=="undefined"?".tooltip.touch":".tooltip.click";return{create:function(e){n=$$(i)[0];r=e;n.style.display="block";return this},show:function(t){e.setTimeout(function(){n.style.opacity="1"},10);if(t){e.setTimeout(this.hide,t)}return this},hide:function(){if(!n){return}n.style.opacity="0";e.setTimeout(function(){if(!n){return}n.parentNode.removeChild(n);n=undefined},t.Detector.isIE()?0:1e3);return this}}}(),h=function(e){if(t.Detector.isWebKit()){e.style.webkitAnimation="touchBobble .4s";Event.observe(e,"webkitAnimationEnd",function(){e.style.webkitAnimation="";$(e).stopObserving("webkitAnimationEnd")})}},p=function(t){var n=function(e){return e===1?1:-Math.pow(2,-10*e)+1};var r=function(){c.create(t).show(2500);t[0].canvasView.doPreload(false,a.registerLoadEvent);Event.fire(t[0].container,"loupe:animateInEnd",{})};var i=new Effect.Tween(null,t[0].startAnimationX,0,{duration:.5,transition:n,afterFinish:r},function(n){clearTimeout(t[0].animate);t[0].animate=e.setTimeout(function(){l(t[0],n,0)},0)})},d=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=e.width;n.height=e.height;r.drawImage(e,0,0);n.className+=t||"";e.parentNode.appendChild(n);return n},v=function(n){var i,s,o,u=false,a=0,f=0,d=true,v=true,m=false,g=false,b=t.Detector.iOSVersion(),w=function(e){if(e.target===i.parentNode.children[0]&&(!u||window.ontouchstart!=="undefined")){h(e.target);h(i)}},S=function(e){if(e.target===i.parentNode.children[0]){if(!t.Detector.isFirefox()){e.target.parentNode.addClassName("grabbing")}e.preventDefault();e.stopPropagation();s=e.targetTouches?e.targetTouches[0].pageY-a:e.pageY-a;o=e.targetTouches?e.targetTouches[0].pageX-f:e.pageX-f;u=true}},x=function(e){var n,r;i.parentNode.removeClassName("grabbing");u=false;if(v){n={};n.prop3=t.Tracking+" - loupe - interacted";v=false}},T=function(e){if(a<e.boundY1){a=e.boundY1}else{if(a>e.boundY2){a=e.boundY2}}if(f<e.boundX1){f=e.boundX1}else{if(f>e.boundX2){f=e.boundX2}}return e},N=function(){if(d){c.hide();d=false}e.clearTimeout(n[0].animate);n[0].animate=e.setTimeout(function(){l(T(n[0]),f,a)},0)},C=function(){if(b>=4||!b&&typeof window.ontouchstart!=="undefined"){return function(e){if(u){e.stopPropagation();f=e.targetTouches[0].pageX-o;a=e.targetTouches[0].pageY-s;N()}}}else{return function(e){if(u){e.stopPropagation();f=e.pageX-o;a=e.pageY-s;N()}}}}(),k=function(){var e,n,r,i,s;if(b>=4||!b&&typeof window.ontouchstart!=="undefined"){e="touchstart";n="touchend";r="touchmove";i="touchstart"}else{if(!t.Detector.isMobile()){e="mousedown";n="mouseup";s="mouseout";r="mousemove";i="mouseover";document.ondragstart=function(){return false}}}var o=$$(".loupe-image");for(var u=o.length-1;u>=0;u--){if(typeof window.ontouchstart==="undefined"){Event.observe(o[u],s,x)}Event.observe(o[u],e,S);Event.observe(o[u],n,x);Event.observe(o[u],r,C);Event.observe(o[u],i,w)}},L=new t.ShowOnScroll($$(".loupe-container .gallery-content")[0],r),O=function(){if(!m){g=true;return}k();L.stopObserving();L=null;p(n);O=function(){return false}};L.setDelegate({visitorEngaged:O});return{getInteractionStatus:function(){return u},configure:function(e){n=e;i=n[0].canvasImageView;return this},isReady:function(){m=true;if(g){O()}return this}}},m=function(){var e=[],t=0,n;return{configure:function(e,r){t=e;n=r()},addInstance:function(r){e.push(r);if(e.length===t){n.configure(e).isReady()}},getController:function(){return n}}}(),g=function(e,r){var i={};i.displacementMap=s().setImageData(e.getAttribute("data-displacementmap").replace(/https?:\/\/[^\/]+\//g,"/"),function(s){i.canvasView=u(e,function(u){var a=e.getAttribute("data-initplacement")||"0,0",f=+e.getAttribute("data-scale-ratio"),c=e.getAttribute("data-boundingbox")||"0,0,0,0",h=s.calculatedWidth||s.width,p=s.calculatedHeight||s.height;a=a.split(",");c=c.split(",");if(t.Detector.hasCanvas()&&!t.Detector.isIE()){i.canvasImageViewCtx=u.getContext("2d")}else{i.updateIEView=o().attachView(u)}u.style.width=h+"px";u.style.height=p+"px";u.width=h;u.height=p;i.canvasImageView=u;var d=e.getStyle(n+"transform")||window.getComputedStyle(e,null).msTransform;i.startAnimationX=parseInt(d.split(",")[4],10);if(isNaN(i.startAnimationX)){i.startAnimationX=d.split(",")[0].replace(/[^0-9\-]/g,"")}i.speed=f;i.initplacementX=+a[0]||0;i.initplacementY=+a[1]||0;i.offsetX=80;i.offsetY=120;i.boundX1=+c[0]||0;i.boundY1=+c[1]||0;i.boundX2=+c[2]||0;i.boundY2=+c[3]||0;i.container=e;l(i,i.startAnimationX,0);i.container.style.visibility="visible";if(typeof r==="function"){r(i)}})})};Event.onDOMReady(function(){var e=false,n=function(){var t=$$(".loupe"),r=t.length,i;if(e){Event.stopObserving(window,"deviceorientation",n);$$(".loupe-container")[0].removeClassName("degraded")}m.configure(r,v);for(i=0;i<r;i+=1){g(t[i],m.addInstance);$$(".loupe-container")[0].addClassName("active")}};if(t.Detector.isMobile()||t.Detector.isiPad()){$$(".loupe-container")[0].addClassName("degraded");e=true;Event.observe(window,"deviceorientation",n);return}if(t.Detector.isIE()&&t.Detector.isIE6()){return}n()})})(window,GL||{})